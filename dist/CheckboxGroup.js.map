{"version":3,"sources":["CheckboxGroup.js"],"names":["CheckboxGroup","options","_classCallCheck","this","_objectSpread","class","init","_this","document","addEventListener","e","handleChange","target","classList","contains","change","input","groupId","getAttribute","groupName","selectAll","checked","changeWrapperClass","status","_this2","_a","_i","length","changeStatus","triggerChange","querySelector","groupWrapper","groupWrapperClass","closest","add","remove","parentElement","checkGroup","elementId","elements","querySelectorAll","elementsChecked","event","createEvent","initEvent","dispatchEvent"],"mappings":"8aAAqBA,aACjB,SAAAA,EAAYC,gGAASC,CAAAC,KAAAH,GACjBG,KAAKF,scAALG,CAAA,GACO,CACCC,MAAO,kBAERJ,GAEPE,KAAKG,6DAGF,IAAAC,EAAAJ,KACHK,SAASC,iBAAiB,SAAU,SAACC,GACjCH,EAAKI,aAAaD,0CAIbA,GACLA,EAAEE,OAAOC,UAAUC,SAASX,KAAKF,QAAQI,QACzCF,KAAKY,OAAOL,EAAEE,uCAIfI,GACH,IAAMC,EAAUD,EAAME,aAAa,iBAC7BC,EAAYH,EAAME,aAAa,mBAEjCD,EACAd,KAAKiB,UAAUH,EAASD,EAAMK,UA5BrBrB,KAAAA,WA8BOmB,GAChBhB,KAAKmB,mBAAmBN,sCAItBG,EAAWI,GAAQ,IAAA,IAhClBb,EAgCkBc,EAAArB,KAAAsB,EAjCzBjB,SAAKP,iBAAL,0BACOkB,EAAA,MAgCkBO,EAAA,EAAAA,EAAAD,EAAAE,OAAAD,IAhClBhB,EAgCkBe,EAAAC,GA/BjBrB,EAAOuB,aAAAlB,EAAAa,GAERtB,EAJPqB,mBAAAZ,GAOHP,KAAA0B,cAAArB,SAAAsB,cAAA,wBAAAX,EAAA,kDAkCkBH,GACf,IAAMe,EAjCHf,EAAAE,aAAA,sBAAAc,EAAAhB,EAAAE,aAAA,4BACHV,EAASC,aAAAA,sBACAE,EAAAA,QADTK,EAAAiB,QAAAF,GAAAlB,UAAAqB,IAAAF,GAuCQhB,EAAMiB,QAAQF,GAAclB,UAAUsB,OAAOH,GAjC/CpB,EAAOC,QACJE,EAAOL,cAAZG,UAAAqB,IAAAF,GAEPhB,EAAAoB,cAAAvB,UAAAsB,OAAAH,wCAISb,EAAYH,GAsClBA,EAAMK,QAAUE,EApChBpB,KAAIc,cAASD,sCAGJqB,GACL,IAAAC,EAAKhB,SAAmBN,cAAxB,wBAAAG,EAAA,MACHoB,EAAA/B,SAAAgC,iBAAA,0BAAArB,EAAA,MACJsB,EAAAjC,SAAAgC,iBAAA,kCAAArB,EAAA,MAsCGhB,KAAKyB,aAAaU,EAAWC,EAASZ,SAAWc,EAAgBd,8CApCxCX,GAAA,IAAA0B,EACuDlC,SAAAmC,YAAO,SACnFD,EAAAE,UAAKhB,wBAAL,GAAA,GA2CJZ,EAAM6B,cAAcH","file":"CheckboxGroup.js","sourcesContent":["export default class CheckboxGroup {\r\n    constructor(options) {\r\n        this.options = {\r\n            ...{\r\n                class: 'checkbox-group'\r\n            },\r\n            ...options\r\n        };\r\n        this.init();\r\n    }\r\n\r\n    init() {\r\n        document.addEventListener('change', (e) => {\r\n            this.handleChange(e);\r\n        });\r\n    }\r\n\r\n    handleChange(e) {\r\n        if (e.target.classList.contains(this.options.class)) {\r\n            this.change(e.target);\r\n        }\r\n    }\r\n\r\n    change(input) {\r\n        const groupId = input.getAttribute('data-group-id');\r\n        const groupName = input.getAttribute('data-group-name');\r\n\r\n        if (groupId) {\r\n            this.selectAll(groupId, input.checked);\r\n        } else {\r\n            this.checkGroup(groupName);\r\n            this.changeWrapperClass(input);\r\n        }\r\n    }\r\n\r\n    selectAll(groupName, status) {\r\n        document.querySelectorAll('input[data-group-name=\"' + groupName + '\"]').forEach((e) => {\r\n            this.changeStatus(e, status);\r\n            this.changeWrapperClass(e);\r\n        });\r\n        this.triggerChange(document.querySelector('input[data-group-id=\"' + groupName + '\"]'));\r\n    }\r\n\r\n    changeWrapperClass(input) {\r\n        const groupWrapper = input.getAttribute('data-group-wrapper');\r\n        const groupWrapperClass = input.getAttribute('data-group-wrapper-class');\r\n\r\n        if (input.hasAttribute('data-group-wrapper')) {\r\n            if (input.checked) {\r\n                input.closest(groupWrapper).classList.add(groupWrapperClass);\r\n            } else {\r\n                input.closest(groupWrapper).classList.remove(groupWrapperClass);\r\n            }\r\n        } else {\r\n            if (input.checked) {\r\n                input.parentElement.classList.add(groupWrapperClass);\r\n            } else {\r\n                input.parentElement.classList.remove(groupWrapperClass);\r\n            }\r\n        }\r\n    }\r\n\r\n    changeStatus(input, status) {\r\n        input.checked = status;\r\n        this.triggerChange(input);\r\n    }\r\n\r\n    checkGroup(groupName) {\r\n        const elementId = document.querySelector('input[data-group-id=\"' + groupName + '\"]');\r\n        const elements = document.querySelectorAll('input[data-group-name=\"' + groupName + '\"]');\r\n        const elementsChecked = document.querySelectorAll('input:checked[data-group-name=\"' + groupName + '\"]');\r\n        this.changeStatus(elementId, elements.length === elementsChecked.length);\r\n    }\r\n\r\n    triggerChange(input) {\r\n        // without explorer\r\n        // const event = new Event('change');\r\n        // input.dispatchEvent(event);\r\n        const event = document.createEvent('Event');\r\n        event.initEvent('checkBoxGroup:change', true, true); // can bubble, and is cancellable\r\n        input.dispatchEvent(event);\r\n    }\r\n}"]}