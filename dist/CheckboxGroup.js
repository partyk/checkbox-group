!function(e,t){if("function"==typeof define&&define.amd)define(["exports"],t);else if("undefined"!=typeof exports)t(exports);else{var n={};t(n),e.CheckboxGroup=n}}(this,function(e){"use strict";function a(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.options=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})));for(var a=r,i=0;i<a.length;i++)s=a[i],o=e,u=n[c=s],c in o?Object.defineProperty(o,c,{value:u,enumerable:!0,configurable:!0,writable:!0}):o[c]=u}var o,c,u;var s;return e}({},{class:"checkbox-group",firstInit:!0},e),this.init()}var e,n,r;return e=t,(n=[{key:"init",value:function(){var t=this;document.addEventListener("change",function(e){t.handleChange(e)}),this.firstInit()}},{key:"firstInit",value:function(){var e=this;if(this.options.firstInit){var t=document.getElementsByClassName(this.options.class);if(0!==t.length)for(var n,r=[].slice.call(t),a=0;a<r.length;a++)n=r[a],e.changeWrapperClass(n)}}},{key:"handleChange",value:function(e){e.target.classList.contains(this.options.class)&&this.change(e.target)}},{key:"change",value:function(e){var t=e.getAttribute("data-group-id"),n=e.getAttribute("data-group-name");t?this.selectAll(t,e.checked):(this.checkGroup(n),this.changeWrapperClass(e))}},{key:"selectAll",value:function(e,t){for(var n,r=this,a=document.querySelectorAll('input[data-group-name="'+e+'"]'),i=0;i<a.length;i++)(n=a[i]).closest("[data-checkbox-group-skip='".concat(e,"']"))||(r.changeStatus(n,t),r.changeWrapperClass(n));this.triggerChange(document.querySelector('input[data-group-id="'+e+'"]'))}},{key:"changeWrapperClass",value:function(e){var t=e.getAttribute("data-group-wrapper"),n=e.getAttribute("data-group-wrapper-class");t&&e.closest(t)?this.toggleClass(e.closest(t),n,e.checked):this.toggleClass(e.parentElement,n,e.checked)}},{key:"changeStatus",value:function(e,t){e.checked=t,this.triggerChange(e)}},{key:"checkGroup",value:function(e){var t=document.querySelector('input[data-group-id="'+e+'"]'),n=this.checkGroupSkip(document.querySelectorAll('input[data-group-name="'+e+'"]'),e),r=this.checkGroupSkip(document.querySelectorAll('input:checked[data-group-name="'+e+'"]'),e);this.changeStatus(t,n.length===r.length)}},{key:"checkGroupSkip",value:function(e,t){return a(e).filter(function(e){if(!e.closest("[data-checkbox-group-skip='".concat(t,"']")))return e})}},{key:"toggleClass",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";2<arguments.length&&void 0!==arguments[2]&&arguments[2]?e.classList.add(t):e.classList.remove(t)}},{key:"triggerChange",value:function(e){var t=document.createEvent("Event");t.initEvent("checkBoxGroup:change",!0,!0),e.dispatchEvent(t)}}])&&i(e.prototype,n),r&&i(e,r),t}();e.default=t});
//# sourceMappingURL=CheckboxGroup.js.map